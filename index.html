<!DOCTYPE html>
<html>
    <head>
        <title>Water Utilities Calculator</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-red.min.css">
        <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>


        <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
        <link rel="manifest" href="site.webmanifest">
        <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#2b5797">
        <meta name="theme-color" content="#ffffff">


    </head>
    <body>

        <style>
            .Header
            {
                display: flex;
                justify-content: center;
                align-items: center;
                padding-top: 50px;
            }

            .Footer
            {
                background-color: #31435e;
                margin-top: 50px;
                flex-direction: row;
                padding: 50px;
            }

            .HeaderContent
            {
                width: 75%;
                text-align: center;
            }

            .SelectionContainer
            {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }
            .SelectionInnerContainer
            {
                width: 300px;
                margin-top: 10px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
            }

            .CalculatorsMainContainer
            {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                margin-top: 30px;
            }

            .CalculatorContainer
            {
                width: 75%;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            .UsageInputContainer
            {
                margin-top: 20px;
            }

            .DualTableContainer
            {
                display: flex;
                flex-direction: row;
                justify-content: space-between;
                align-items: flex-start;;
                width: 75%;
            }

            .ResultsDiv
            {
                margin-top: 15px;
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-items: center;
            }

        </style>

        <header class="Header">
           <div class="HeaderContent">
               <a href="https://www.northlogancity.org">
                    <img src="NorthLoganLogo.svg"/>
               </a>
                <h3>Welcome to the North Logan City Water Utilities Calculator</h3>
                <h6><b>Note:</b> The results given by this calculator are in no way an actual representation of your water bill. This tool is simply meant to provide an estimate for your bill, and any disputes in regards to bills should have no reference back to this tool.</h6>
           </div>
        </header>

        <div class="Body">

            <div class="SelectionContainer">
                <label>What type of property are you calculating for?</label>
                <div class="SelectionInnerContainer">
                    <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-1">
                        <input type="radio" id="option-1" class="mdl-radio__button" value="ResSingle" onclick="OnSelectionChanged(this)" name="Type" checked>
                        <span class="mdl-radio__label">Residential (Single-Family)</span>
                    </label>
                    <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-2">
                        <input type="radio" id="option-2" class="mdl-radio__button" value="ResMulti" onclick="OnSelectionChanged(this)" name="Type">
                        <span class="mdl-radio__label">Residential (Multi-Family)</span>
                    </label>
                    <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-3">
                        <input type="radio" id="option-3" class="mdl-radio__button" value="Comm" onclick="OnSelectionChanged(this)" name="Type">
                        <span class="mdl-radio__label">Commercial (Business)</span>
                    </label>
                    <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-4">
                        <input type="radio" id="option-4" class="mdl-radio__button" value="Inst" onclick="OnSelectionChanged(this)" name="Type">
                        <span class="mdl-radio__label">Institutional</span>
                    </label>
                </div>
            </div>

            <div class="CalculatorsMainContainer">
                <div id="ResSingleCalcCont" class="CalculatorContainer">
                    <h4>Residential Single Family Calculator</h4>
                    <table class="mdl-data-table mdl-js-data-table mdl-data-table mdl-shadow--2dp">
                        <thead>
                            <tr>
                                <th>Base Rate</th>
                                <th>Tiers Per Meter Read</th>
                                <th>Price Per 1,000 Gallons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>$12.15</td>
                                <td>1 - 10,000 gal</td>
                                <td>$1.57</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>10,001 - 30,000 gal</td>
                                <td>$1.67</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>30,001 - 60,000 gal</td>
                                <td>$1.77</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>60,001 - 90,000 gal</td>
                                <td>$1.90</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>90,001 - 125,000 gal</td>
                                <td>$2.10</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>125,001 - 150,000 gal</td>
                                <td>$2.35</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>150,001 - 250,000 gal</td>
                                <td>$2.50</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>250,001 - 300,000 gal</td>
                                <td>$3.00</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>300,001 +</td>
                                <td>$4.00</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="mdl-textfield mdl-js-textfield UsageInputContainer">
                        <input class="mdl-textfield__input" type="number" pattern="-?[0-9]*(\.[0-9]+)?" id="SingleFamilyUsageInput">
                        <label class="mdl-textfield__label" for="SingleFamilyUsageInput">Water Usage (In Gallons)</label>
                        <span class="mdl-textfield__error">Whole Numbers Only Please!</span>
                    </div>
                    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="CalculateResSingleBill()">
                        Calculate
                     </button>
                     <div class=ResultsDiv>
                        <label>You owe approximately: </label><i class="material-icons">attach_money</i><b id="ResSingleResultText"></b>
                     </div>
                </div>

                <div id="ResMultiCalcCont" class="CalculatorContainer" hidden>
                        <h4>Residential Multi Family Calculator</h4>
                        <div>
                            <h3>Utilities under this category typically involve multiple units to calculate at a time, so for info on water bills under this category, please contact <a href="mailto:jordan@northlogancity.org">Jordan</a>.</h3>
                        </div>
                </div>

                <div id="CommCalcCont" class="CalculatorContainer" hidden>
                        <h4>Commercial Calculator</h4>
                        <div class="DualTableContainer">

                                <table class="mdl-data-table mdl-js-data-table mdl-data-table mdl-shadow--2dp">
                                    <thead>
                                        <tr>
                                            <th>Meter Size</th>
                                            <th>Base Rate</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1" or Smaller</td>
                                            <td>$12.15</td>
                                        </tr>
                                        <tr>
                                            <td>1<sup>1</sup>&frasl;<sub>2</sub>"</td>
                                            <td>$15.34</td>
                                        </tr>
                                        <tr>
                                            <td>2"</td>
                                            <td>$19.22</td>
                                        </tr>
                                        <tr>
                                            <td>3"</td>
                                            <td>$29.09</td>
                                        </tr>
                                        <tr>
                                            <td>4"</td>
                                            <td>$74.49</td>
                                        </tr>
                                        <tr>
                                            <td>6"</td>
                                            <td>$164.74</td>
                                        </tr>
                                        <tr>
                                            <td>8"</td>
                                            <td>$200.00</td>
                                        </tr>
                                    </tbody>
                                </table>

                            <table class="mdl-data-table mdl-js-data-table mdl-data-table mdl-shadow--2dp">
                                <thead>
                                    <tr>
                                        <th>Tiers Per Meter Read</th>
                                        <th>Price Per 1,000 Gallons</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1 - 1,500,000 gal</td>
                                        <td>$1.60</td>
                                    </tr>
                                    <tr>
                                        <td>1,500,001 - 2,000,000 gal</td>
                                        <td>$1.95</td>
                                    </tr>
                                    <tr>
                                        <td>2,000,001 + gal</td>
                                        <td>$3.85</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                            <div class="mdl-textfield mdl-js-textfield UsageInputContainer">
                                <input class="mdl-textfield__input" type="number" pattern="-?[0-9]*(\.[0-9]+)?" id="CommUsageInput">
                                <label class="mdl-textfield__label" for="CommUsageInput">Water Usage (In Gallons)</label>
                                <span class="mdl-textfield__error">Whole Numbers Only Please!</span>
                            </div>
                            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
                                Calculate
                             </button>
                             <div class=ResultsDiv>
                                <label>You owe approximately: </label><i class="material-icons">attach_money</i><b id="CommResultText">245.50</b>
                             </div>
                </div>

                <div id="InstCalcCont" class="CalculatorContainer" hidden>
                        <h4>Institutional Calculator</h4>
                        <div class="DualTableContainer">

                            <table class="mdl-data-table mdl-js-data-table mdl-data-table mdl-shadow--2dp">
                                <thead>
                                    <tr>
                                        <th>Meter Size</th>
                                        <th>Base Rate</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1" or Smaller</td>
                                        <td>$12.15</td>
                                    </tr>
                                    <tr>
                                        <td>1<sup>1</sup>&frasl;<sub>2</sub>"</td>
                                        <td>$15.34</td>
                                    </tr>
                                    <tr>
                                        <td>2"</td>
                                        <td>$19.22</td>
                                    </tr>
                                    <tr>
                                        <td>3"</td>
                                        <td>$29.09</td>
                                    </tr>
                                    <tr>
                                        <td>4"</td>
                                        <td>$74.49</td>
                                    </tr>
                                    <tr>
                                        <td>6"</td>
                                        <td>$164.74</td>
                                    </tr>
                                    <tr>
                                        <td>8"</td>
                                        <td>$200.00</td>
                                    </tr>
                                </tbody>
                            </table>

                            <table class="mdl-data-table mdl-js-data-table mdl-data-table mdl-shadow--2dp">
                                <thead>
                                    <tr>
                                        <th>Base Rate</th>
                                        <th>Tiers Per Meter Read</th>
                                        <th>Price Per 1,000 Gallons</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>$12.15</td>
                                        <td>1 - 10,000 gal</td>
                                        <td>$1.57</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>10,001 - 30,000 gal</td>
                                        <td>$1.67</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>30,001 - 60,000 gal</td>
                                        <td>$1.77</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>60,001 - 90,000 gal</td>
                                        <td>$1.90</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>90,001 - 125,000 gal</td>
                                        <td>$2.10</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>125,001 - 150,000 gal</td>
                                        <td>$2.35</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>150,001 - 250,000 gal</td>
                                        <td>$2.50</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>250,001 - 300,000 gal</td>
                                        <td>$3.00</td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>300,001 +</td>
                                        <td>$4.00</td>
                                    </tr>
                                       
                                </tbody>
                            </table>
                        </div>
                            <div class="mdl-textfield mdl-js-textfield UsageInputContainer">
                                <input class="mdl-textfield__input" type="number" pattern="-?[0-9]*(\.[0-9]+)?" id="InstUsageInput">
                                <label class="mdl-textfield__label" for="InstUsageInput">Water Usage (In Gallons)</label>
                                <span class="mdl-textfield__error">Whole Numbers Only Please!</span>
                            </div>
                            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
                                Calculate
                             </button>
                             <div class=ResultsDiv>
                                <label>You owe approximately: </label><i class="material-icons">attach_money</i><b id="InstResultText">145.50</b>
                             </div>
                </div>

            </div>
        </div>
        <footer class="Footer">

        </footer>
    </body>


    <script>

        var ResSingleTiers = 
        {
            BaseRate: 12.15,
            Tiers:
            [
                {
                    MaxTier: false,
                    LowEnd: 0,
                    HighEnd: 10000,
                    Price: 1.57,
                    TierValue: 15.70
                },
                {
                    MaxTier: false,
                    LowEnd: 10000,
                    HighEnd: 30000,
                    Price: 1.67,
                    TierValue: 33.40
                },
                {
                    MaxTier: false,
                    LowEnd: 30000,
                    HighEnd: 60000,
                    Price: 1.77,
                    TierValue: 53.10
                },
                {
                    MaxTier: false,
                    LowEnd: 60000,
                    HighEnd: 90000,
                    Price: 1.90,
                    TierValue: 57.00
                },
                {
                    MaxTier: false,
                    LowEnd: 90000,
                    HighEnd: 125000,
                    Price: 2.10,
                    TierValue: 73.50
                },
                {
                    MaxTier: false,
                    LowEnd: 125000,
                    HighEnd: 150000,
                    Price: 2.35,
                    TierValue: 58.75
                },
                {
                    MaxTier: false,
                    LowEnd: 150000,
                    HighEnd: 250000,
                    Price: 2.50,
                    TierValue: 250.00
                },
                {
                    MaxTier: false,
                    LowEnd: 250000,
                    HighEnd: 300000,
                    Price: 3.00,
                    TierValue: 15.70
                },
                {
                    MaxTier: true,
                    LowEnd: 300000,
                    HighEnd: 99999999999999999,
                    Price: 4.00,
                    TierValue: 0
                },
            ]
        };

        var CommTiers = 
        {
            BaseRates:
            [
                {
                    MeterSize: 1,
                    Rate: 12.15
                },
                {
                    MeterSize: 1.5,
                    Rate: 15.34
                },
                {
                    MeterSize: 2,
                    Rate: 19.22
                },
                {
                    MeterSize: 3,
                    Rate: 29.09
                },
                {
                    MeterSize: 4,
                    Rate: 74.49
                },
                {
                    MeterSize: 6,
                    Rate: 164.74
                },
                {
                    MeterSize: 8,
                    Rate: 200.00
                },

            ], 
            Tiers:
            [
                {
                    MaxTier: false,
                    LowEnd: 0,
                    HighEnd: 1500000,
                    Price: 1.60,
                    TierValue: 2400.00
                },
                {
                    MaxTier: false,
                    LowEnd: 1500000,
                    HighEnd: 2000000,
                    Price: 1.95,
                    TierValue: 975.00
                },
                {
                    MaxTier: true,
                    LowEnd: 2000000,
                    HighEnd: 99999999999999999,
                    Price: 3.85,
                    TierValue: 0
                },
            ]
        }
    
        function OnSelectionChanged(selectedItem)
        {
            var ResSingle = document.getElementById('ResSingleCalcCont');
            var ResMulti = document.getElementById('ResMultiCalcCont');
            var Comm = document.getElementById('CommCalcCont');
            var Inst = document.getElementById('InstCalcCont');

            var value = selectedItem.value;

            if (value === "ResSingle")
            {
                ResSingle.hidden = false;
                ResMulti.hidden = true;
                Comm.hidden = true;
                Inst.hidden = true;
            }
            else if (value === "ResMulti")
            {
                ResSingle.hidden = true;
                ResMulti.hidden = false;
                Comm.hidden = true;
                Inst.hidden = true;
            }
            else if (value === "Comm")
            {
                ResSingle.hidden = true;
                ResMulti.hidden = true;
                Comm.hidden = false;
                Inst.hidden = true;
            }
            else
            {
                ResSingle.hidden = true;
                ResMulti.hidden = true;
                Comm.hidden = true;
                Inst.hidden = false;
            }
        }


        function CalculateResSingleBill()
        {
            var input = document.getElementById('SingleFamilyUsageInput');
            var DisplayElement = document.getElementById('ResSingleResultText')
            var Usage = input.value;
            var PriceToDisplay = 0;
            if (Usage > 0)
            {

                


                for (i = 0; i < ResSingleTiers.Tiers.length; i++)
                {
                    if (ResSingleTiers.Tiers[i].MaxTier)
                    {
                        if (Usage > ResSingleTiers.Tiers[i].LowEnd)
                        {
                            var TierUsage = (Usage - ResSingleTiers.Tiers[i].LowEnd)/1000;
                            PriceToDisplay += (TierUsage * ResSingleTiers.Tiers[i].Price);
                        }
                    }
                    else
                    {
                        if (Usage > ResSingleTiers.Tiers[i].LowEnd && Usage <= ResSingleTiers.Tiers[i].HighEnd)
                        {
                            var TierUsage = (Usage - ResSingleTiers.Tiers[i].LowEnd)/1000;
                            PriceToDisplay += (TierUsage * ResSingleTiers.Tiers[i].Price);
                        }
                        else
                        {
                            if (Usage > ResSingleTiers.Tiers[i].HighEnd)
                            {
                                PriceToDisplay += ResSingleTiers.Tiers[i].TierValue;
                            }
                        }
                    }
                }

                
            }
            PriceToDisplay += ResSingleTiers.BaseRate;

            DisplayElement.textContent = PriceToDisplay.toFixed(2);
        }
    
    </script>
</html>